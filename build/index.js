import*as e from"@nikonov-alex/components.v2";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},n={};t.d(n,{Z:()=>Ze});const o=(i={FormComponent:()=>e.FormComponent},l={},t.d(l,i),l),r=Object.keys;var i,l;function a(e){return"string"==typeof e}function s(e){return"number"==typeof e}function c(e){return"object"==typeof e?null!==e:d(e)}function d(e){return"function"==typeof e}function p(e,t){if(e)for(const n of r(e))t(e[n],n)}const u={animationIterationCount:0,borderImageOutset:0,borderImageSlice:0,borderImageWidth:0,boxFlex:0,boxFlexGroup:0,boxOrdinalGroup:0,columnCount:0,columns:0,flex:0,flexGrow:0,flexPositive:0,flexShrink:0,flexNegative:0,flexOrder:0,gridArea:0,gridRow:0,gridRowEnd:0,gridRowSpan:0,gridRowStart:0,gridColumn:0,gridColumnEnd:0,gridColumnSpan:0,gridColumnStart:0,fontWeight:0,lineClamp:0,lineHeight:0,opacity:0,order:0,orphans:0,tabSize:0,widows:0,zIndex:0,zoom:0,fillOpacity:0,floodOpacity:0,stopOpacity:0,strokeDasharray:0,strokeDashoffset:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0},f=["Webkit","ms","Moz","O"];r(u).forEach((e=>{f.forEach((t=>{u[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=0}))}));const g=Symbol.for("jsx-dom:type");var m=function(e){return e.ShadowRoot="ShadowRoot",e}(m||{});const b="http://www.w3.org/1999/xlink",v="http://www.w3.org/XML/1998/namespace";function y(e){return!("boolean"==typeof e||null==e)}const h="undefined"!=typeof DOMTokenList?DOMTokenList:function(){};function w(e){return Array.isArray(e)?e.map(w).filter(Boolean).join(" "):e instanceof h?""+e:c(e)?r(e).filter((t=>e[t])).join(" "):y(e)?""+e:""}const O={animate:0,circle:0,clipPath:0,defs:0,desc:0,ellipse:0,feBlend:0,feColorMatrix:0,feComponentTransfer:0,feComposite:0,feConvolveMatrix:0,feDiffuseLighting:0,feDisplacementMap:0,feDistantLight:0,feFlood:0,feFuncA:0,feFuncB:0,feFuncG:0,feFuncR:0,feGaussianBlur:0,feImage:0,feMerge:0,feMergeNode:0,feMorphology:0,feOffset:0,fePointLight:0,feSpecularLighting:0,feSpotLight:0,feTile:0,feTurbulence:0,filter:0,foreignObject:0,g:0,image:0,line:0,linearGradient:0,marker:0,mask:0,metadata:0,path:0,pattern:0,polygon:0,polyline:0,radialGradient:0,rect:0,stop:0,svg:0,switch:0,symbol:0,text:0,textPath:0,tspan:0,use:0,view:0},x=/^(a(ll|t|u)|base[FP]|c(al|lipPathU|on)|di|ed|ex|filter[RU]|g(lyphR|r)|ke|l(en|im)|ma(rker[HUW]|s)|n|pat|pr|point[^e]|re[^n]|s[puy]|st[^or]|ta|textL|vi|xC|y|z)/;function j(e,t){let n,{children:o,...i}=t;if(i.namespaceURI||0!==O[e]||(i={...i,namespaceURI:"http://www.w3.org/2000/svg"}),a(e)){if(n=i.namespaceURI?document.createElementNS(i.namespaceURI,e):document.createElement(e),function(e,t){for(const n of r(e))L(n,e[n],t)}(i,n),A(o,n),n instanceof window.HTMLSelectElement&&null!=i.value)if(!0===i.multiple&&Array.isArray(i.value)){const e=i.value.map((e=>String(e)));n.querySelectorAll("option").forEach((t=>t.selected=e.includes(t.value)))}else n.value=i.value;S(i.ref,n)}else{if(!d(e))throw new TypeError(`Invalid JSX element type: ${e}`);c(e.defaultProps)&&(i={...e.defaultProps,...i}),n=function(e){const{prototype:t}=e;return!(!t||!t.isReactComponent)}(e)?function(e,t,n){return new e(t={...t,children:n}).render()}(e,i,o):e({...i,children:o})}return n}function S(e,t){var n;c(n=e)&&"current"in n?e.current=t:d(e)&&e(t)}function A(e,t){if(c(r=e)&&"number"==typeof r.length&&"number"!=typeof r.nodeType)!function(e,t){for(const n of[...e])A(n,t)}(e,t);else if(a(e)||s(e))E(document.createTextNode(e),t);else if(null===e)E(document.createComment(""),t);else if((o=e)&&"number"==typeof o.nodeType)E(e,t);else if(null!=(n=e)&&n[g]===m.ShadowRoot){const n=t.attachShadow(e.attr);A(e.children,n),S(e.ref,n)}var n,o,r}function E(e,t){t instanceof window.HTMLTemplateElement?t.content.appendChild(e):t.appendChild(e)}function k(e,t){return e.replace(/[A-Z]/g,(e=>t+e.toLowerCase()))}function T(e,t){null==t||!1===t||(Array.isArray(t)?t.forEach((t=>T(e,t))):a(t)?e.setAttribute("style",t):c(t)&&p(t,((t,n)=>{0===n.indexOf("-")?e.style.setProperty(n,t):s(t)&&0!==u[n]?e.style[n]=t+"px":e.style[n]=t})))}function L(e,t,n){switch(e){case"xlinkActuate":case"xlinkArcrole":case"xlinkHref":case"xlinkRole":case"xlinkShow":case"xlinkTitle":case"xlinkType":return void C(n,b,k(e,":"),t);case"xmlnsXlink":return void M(n,k(e,":"),t);case"xmlBase":case"xmlLang":case"xmlSpace":return void C(n,v,k(e,":"),t)}switch(e){case"htmlFor":return void M(n,"for",t);case"dataset":return void p(t,((e,t)=>{null!=e&&(n.dataset[t]=e)}));case"innerHTML":case"innerText":case"textContent":return void(y(t)&&(n[e]=t));case"dangerouslySetInnerHTML":return void(c(t)&&(n.innerHTML=t.__html));case"value":if(null==t||n instanceof window.HTMLSelectElement)return;if(n instanceof window.HTMLTextAreaElement)return void(n.value=t);break;case"spellCheck":return void(n.spellcheck=t);case"class":case"className":return void(d(t)?t(n):M(n,"class",w(t)));case"ref":case"namespaceURI":return;case"style":return void T(n,t);case"on":case"onCapture":return void p(t,((t,o)=>{n.addEventListener(o,t,"onCapture"===e)}))}if(d(t)){if("o"===e[0]&&"n"===e[1]){let o=e.toLowerCase();const r=o.endsWith("capture");if("ondoubleclick"===o?o="ondblclick":r&&"ondoubleclickcapture"===o&&(o="ondblclickcapture"),r||null!==n[o])if(r)n.addEventListener(o.substring(2,o.length-7),t,!0);else{let r;r=o in window?o.substring(2):o[2]+e.slice(3),n.addEventListener(r,t)}else n[o]=t}}else c(t)?n[e]=t:!0===t?M(n,e,""):!1!==t&&null!=t&&(n instanceof SVGElement&&!x.test(e)?M(n,k(e,"-"),t):M(n,e,t))}function M(e,t,n){e.setAttribute(t,n)}function C(e,t,n,o){e.setAttributeNS(t,n,o)}var I={d:(e,t)=>{for(var n in t)I.o(t,n)&&!I.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},N={};I.d(N,{qM:()=>U,E1:()=>F,_u:()=>R,_w:()=>H,Er:()=>P});var R={};I.r(R),I.d(R,{EMPTY_LIST:()=>q,concat:()=>K,cons:()=>D,count:()=>V,filter:()=>B,find:()=>$,fold:()=>G,isEmpty:()=>z,list:()=>_,map:()=>W,prepend:()=>X,reverse:()=>Z});var H={};I.r(H),I.d(H,{apply:()=>J,ifNotError:()=>Q,ifNotFalse:()=>Y});var P={};I.r(P);var F={};I.r(F),I.d(F,{array:()=>ee});var U={};I.r(U),I.d(U,{local:()=>te});const q=null,D=(e,t)=>({first:e,rest:t}),z=e=>q===e,_=(...e)=>e.reduce(((e,t)=>D(t,e)),q),G=(e,t,n)=>z(e)?n:t(e.first,G(e.rest,t,n)),W=(e,t)=>G(e,((e,n)=>D(t(e),n)),q),B=(e,t)=>G(e,((e,n)=>t(e)?D(e,n):n),q),K=(e,t)=>G(e,D,t),X=(e,t)=>K(e,_(t)),Z=e=>G(e,((e,t)=>X(t,e)),q),$=(e,t)=>!z(e)&&(t(e.first)?e.first:$(e.rest,t)),V=e=>z(e)?0:V(e.rest)+1,J=e=>(t,n)=>e(t)?t:n(t),Y=J((e=>!1===e)),Q=J((e=>e instanceof Error)),ee=(e,t)=>Array.apply(null,Array(e)).map(((e,n)=>t(n))),te=(e,t)=>t(e);var ne=N.qM;const oe=e=>({left:e.left.slice(0,-1),value:e.left[e.left.length-1],right:[e.value].concat(e.right)}),re=(e,t)=>0===e.left.length?t:e.left[e.left.length-1].disabled?re(oe(e),t):oe(e),ie=e=>re(e,e),le=e=>({left:e.left.concat(e.value),value:e.right[0],right:e.right.slice(1)}),ae=(e,t)=>0===e.right.length?t:e.right[0].disabled?ae(le(e),t):le(e),se=e=>ae(e,e),{local:ce}=ne,de={position:"absolute",top:"100%",left:0,width:"100%",listStyleType:"none",paddingLeft:0,margin:0,overflow:"hidden",boxSizing:"border-box",zIndex:1},pe={display:"inline-block",lineHeight:"initial",verticalAlign:"middle",width:"100%",boxSizing:"border-box"},ue=e=>"selection"in e&&"object"==typeof e.selection,fe=e=>Object.assign(Object.assign({},e),{selection:void 0}),ge=(e,t)=>Object.assign(Object.assign({},e),{selection:t}),me=e=>Object.assign(Object.assign({},e),{options:e.selection}),be=e=>e.options.value,ve=e=>{var t;return j("li",{className:"dropdown-option"+(e.option.class?` ${e.option.class}`:""),style:{backgroundColor:e.selected?"blue":void 0,color:e.option.disabled?"lightgrey":void 0},"data-selected":e.selected,"data-disabled":e.option.disabled,"data-value":e.option.value,children:j("span",{className:"dropdown-option-label",style:pe,dangerouslySetInnerHTML:{__html:null!==(t=e.option.label)&&void 0!==t?t:""}})})},ye=e=>ue(e)?j("ul",{className:"dropdown-options",style:de,children:[e.selection.left.map((e=>j(ve,{option:e}))),j(ve,{option:e.selection.value,selected:!0}),e.selection.right.map((e=>j(ve,{option:e})))]}):j("span",{}),he=e=>"disabled"in e.dataset,we=e=>ce(e.className.replace("dropdown-option","").trim(),(e=>""===e?void 0:e)),Oe=e=>e instanceof HTMLElement?e.closest(".dropdown-option"):null,xe=e=>Array.prototype.indexOf.call(e.parentElement.children,e),je=e=>Array.prototype.slice.call(e.parentElement.children,0,xe(e)),Se=e=>Array.prototype.slice.call(e.parentElement.children,xe(e)+1),Ae=e=>({value:e.dataset.value,label:e.querySelector(".dropdown-option-label").innerHTML,disabled:he(e),class:we(e)}),{local:Ee}=ne,ke={position:"relative",textAlign:"left",cursor:"pointer"},Te={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",boxSizing:"border-box"},Le=[{},""],Me=e=>"options"in e&&"object"==typeof e.options,Ce=(e,t)=>Me(e)&&e.options===t?e:Object.assign(Object.assign({},e),{options:t}),Ie=e=>"focused"in e&&!0===e.focused,Ne=e=>"opened"in e&&"object"==typeof e.opened,Re=(e,t)=>Ne(e)&&e.opened===t?e:Object.assign(Object.assign({},e),{opened:t}),He=e=>Me(e)&&Ie(e),Pe=e=>He(e)&&Ne(e),Fe=e=>{return t=e,Object.assign(Object.assign({},t),{focused:!0});var t},Ue=e=>Re(e,(e=>{return t={options:e},Object.assign(Object.assign({},t),{selection:t.options});var t})(e.options)),qe=e=>{return t=Ce(e,(e=>e.options)(e.opened)),Object.assign(Object.assign({},t),{opened:void 0});var t},De=e=>ue(e.opened)?e:qe(e),ze=e=>j("div",{className:"dropdown-value",style:Te,children:Pe(e)?be(e.opened).label:e.options.value.label}),_e=e=>{return j("div",{className:"dropdown"+(t=e,"class"in t&&"string"==typeof t.class?` ${e.class}`:"")+(Pe(e)?" opened":""),tabIndex:0,style:ke,children:[j(ze,Object.assign({},e)),Pe(e)?j(ye,Object.assign({},e.opened)):j("span",{})]});var t},Ge=()=>j("span",{className:"dropdown-empty"}),We=e=>{var t;return Me(e)&&null!==(t=e.options.value.value)&&void 0!==t?t:""},Be=e=>{var t;return{label:e.innerHTML,value:e.value,disabled:e.disabled,class:null!==(t=e.className)&&void 0!==t?t:void 0}},Ke=(e,t)=>Ee(Array.prototype.map.call(e,Be),(e=>Ee(t?Array.prototype.indexOf.call(t.parentElement.children,t):0,(t=>({left:e.slice(0,t),value:e[t],right:e.slice(t+1)}))))),Xe={initialState:{options:void 0},render:e=>Me(e)?j(_e,Object.assign({},e)):j(Ge,{}),formValue:We,domchange:(e,t)=>((e,t)=>""!==t.className?((e,t)=>Object.assign(Object.assign({},e),{class:t}))(e,t.className):e)(((e,t)=>{return t.hasAttribute("required")?(n=e,Object.assign(Object.assign({},n),{required:!0})):e;var n})(((e,t)=>Ee((e=>e.querySelectorAll("option"))(t),(n=>Ee((e=>e.querySelector("option[selected]"))(t),(t=>0===n.length?Object.assign(Object.assign({},e),{options:void 0}):Object.assign(Object.assign({},e),{options:Ke(n,t)}))))))({},t),t),t),events:{focus:(e,t)=>Me(e)&&!He(e)?Fe(e):e,blur:(e,t)=>He(e)?(e=>{return t=e,Object.assign(Object.assign({},t),{focused:void 0});var t})(Pe(e)?qe(e):e):e,click:(e,t)=>Me(e)?Ie(e)?Ne(e)?De(Re(e,((e,t)=>ue(e)?ce(Oe(t.target),(t=>!t||he(t)?e:fe(me(e)))):e)(e.opened,t))):Ue(e):Ue(Fe(e)):e,mouseover:(e,t)=>Pe(e)&&(e=>e.target instanceof HTMLElement&&e.target.matches(".dropdown-options, .dropdown-options *"))(t)?Re(e,((e,t)=>ue(e)?ce(Oe(t.target),(t=>t instanceof HTMLElement&&xe(t)!==(e=>e.selection.left.length)(e)&&!he(t)?ge(e,(e=>({left:je(e).map(Ae),value:Ae(e),right:Se(e).map(Ae)}))(t)):e)):e)(e.opened,t)):e,keydown:(e,t)=>He(e)?Ne(e)?De(Re(e,((e,t)=>ue(e)?t.altKey?["ArrowDown","ArrowUp"].includes(t.code)?fe(e):e:["Escape","Enter"].includes(t.code)?fe("Enter"===t.code?me(e):e):"ArrowDown"===t.code?me(ge(e,se(e.selection))):"ArrowUp"===t.code?me(ge(e,ie(e.selection))):e:e)(e.opened,t))):((e,t)=>t.ctrlKey?e:t.altKey?["ArrowDown","ArrowUp"].includes(t.code)?Ue(e):e:["Enter","Space"].includes(t.code)?Ue(e):"ArrowDown"===t.code?Ce(e,se(e.options)):"ArrowLeft"===t.code||"ArrowUp"===t.code?Ce(e,ie(e.options)):"ArrowRight"===t.code?Ce(e,se(e.options)):e)(e,t):e},emit:[{when:(e,t)=>Me(e)&&Me(t)&&!Pe(t)&&We(e)!==We(t),emit:[e=>new InputEvent("input"),e=>new Event("change")]}],props:{value:{get:We}},validate:e=>{return"required"in(t=e)&&!0===t.required?(e=>""===We(e)?[{valueMissing:!0},"This field is required"]:Le)(e):Le;var t}};const Ze=class extends o.FormComponent{constructor(e){super(Xe,e)}};var $e=n.Z;export{$e as default};